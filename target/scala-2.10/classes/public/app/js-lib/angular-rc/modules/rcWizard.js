var rcWizardDirective={rcWizard:function(){return{restrict:"A",controller:["$scope",function(t){var n,r,i={},e=[];this.currentIndex=0,this.firstIndex=0,this.navigationLength=0,this.addStep=function(t){e.push(t),t.element&&t.submitController&&(jQuery(t.element).append('<input type="submit" tabindex="-1" style="position: absolute; left: -9999px; width: 1px; height: 1px;" />').attr("action","javascript:void(0);"),t.submitController.onSubmitComplete(function(n){n.success&&o(t)}))},this.forward=function(){if(e.length)var t=e.length>n.currentIndex?e[n.currentIndex]:null;0<e.length&&!t||(0<e.length&&t.submitController?t.submitController.submit():o(t))};var o=function(t){0<e.length&&t.formController&&t.formController.$invalid||r.bootstrapWizard("next")};this.backward=function(){r.bootstrapWizard("previous")},this.first=function(){r.bootstrapWizard("first")},this.last=function(){r.bootstrapWizard("last")},this.moveTo=function(t){r.bootstrapWizard("show",t)};var a=function(i,e,o,a){n.currentIndex=a,n.firstIndex=r.bootstrapWizard("firstIndex"),n.navigationLength=r.bootstrapWizard("navigationLength"),t.$$phase||t.$apply()},s=function(){return!1},c=function(t,n,i){i>0?(r.find(".nav li:gt("+(i-1)+")").removeClass("success"),r.find(".nav li:lt("+i+")").addClass("success")):r.find(".nav li").removeClass("success"),e.length>i&&e[i].element&&e[i].element.find("input").first().focus()},l=function(e){i=e,r&&(r.bootstrapWizard(e),n.currentIndex=r.bootstrapWizard("currentIndex"),n.firstIndex=r.bootstrapWizard("firstIndex"),n.navigationLength=r.bootstrapWizard("navigationLength"),t.$$phase||t.$apply())};this.setWizardElement=function(t){r=t,n=this,l({onTabChange:a,onTabShow:c,onTabClick:s})}}],compile:function(){return{pre:function(t,n,r,i){t.rc=t.rc||{},t.rc[r.rcWizard]=i},post:function(t,n,r,i){i.setWizardElement(n),t.$$phase||t.$apply()}}}}}},rcWizardStepDirective={rcStep:function(){return{restrict:"A",require:["^rcWizard","?form","?rcSubmit"],link:function(t,n,r,i){{var e=i[0],o=i.length>1?i[1]:null,a=i.length>2?i[2]:null;e.addStep({element:n,attributes:r,formController:o,submitController:a})}}}}};angular.module("rcWizard",["ng"]).directive(rcWizardDirective).directive(rcWizardStepDirective);